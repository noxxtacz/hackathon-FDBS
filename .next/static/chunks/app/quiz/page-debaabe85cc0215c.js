(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[221],{1528:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(5155),a=r(2115),l=r(4927),n=r(8391);function i(e){let{question:t,options:r,onAnswer:a,answered:l,selectedIndex:i,correctIndex:o}=e;return(0,s.jsxs)(n.A,{className:"max-w-2xl",children:[(0,s.jsx)("p",{className:"mb-5 text-lg font-semibold leading-relaxed text-white",children:t}),(0,s.jsx)("ul",{className:"space-y-2",children:r.map((e,t)=>{let r="border border-white/10 bg-white/[0.02] text-gray-300 hover:border-cyan-500/30 hover:bg-cyan-500/5 hover:text-white";return l&&(r=t===o?"border-emerald-500/30 bg-emerald-500/10 text-emerald-400":t===i?"border-red-500/30 bg-red-500/10 text-red-400":"border-white/5 bg-white/[0.01] text-gray-600"),(0,s.jsx)("li",{children:(0,s.jsxs)("button",{disabled:l,onClick:()=>a(t),className:"flex w-full items-center gap-3 rounded-xl px-4 py-3 text-left text-sm transition-all duration-200 ".concat(r),children:[(0,s.jsx)("span",{className:"flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-full border border-current text-xs font-semibold opacity-60",children:String.fromCharCode(65+t)}),e]})},t)})})]})}var o=r(7101),c=r(8354),d=r(3014);let x=[{value:"",label:"All Topics"},{value:"phishing",label:"Phishing"},{value:"passwords",label:"Passwords"},{value:"social_engineering",label:"Social Engineering"},{value:"malware",label:"Malware"},{value:"general",label:"General"}],u=[{value:"",label:"Mixed"},{value:"easy",label:"Easy"},{value:"medium",label:"Medium"},{value:"hard",label:"Hard"}],h=[3,5,7,10],m="rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-gray-300 backdrop-blur transition-all focus:border-cyan-500/50 focus:outline-none focus:ring-1 focus:ring-cyan-500/30";function p(){var e,t,r,p;let[b,g]=(0,a.useState)(""),[f,y]=(0,a.useState)(""),[j,w]=(0,a.useState)(5),[v,N]=(0,a.useState)(null),[k,S]=(0,a.useState)([]),[C,A]=(0,a.useState)(0),[z,M]=(0,a.useState)(null),[_,L]=(0,a.useState)(null),[q,T]=(0,a.useState)(null),[I,P]=(0,a.useState)(0),[F,Q]=(0,a.useState)(0),[O,B]=(0,a.useState)(!1),[D,E]=(0,a.useState)(!1),[W,J]=(0,a.useState)(!1),[H,R]=(0,a.useState)(null),[Y,G]=(0,a.useState)(""),V=(0,a.useCallback)(async()=>{B(!0),G(""),J(!1),R(null),P(0),A(0),L(null),T(null),Q(0);try{let t={count:j};b&&(t.topic=b),f&&(t.difficulty=f);let r=await fetch("/api/quiz/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(401===r.status)return void G("Please log in to play the quiz.");let s=await r.json();if(!r.ok){var e;G(null!=(e=s.error)?e:"Failed to start quiz");return}N(s.sessionId),S(s.questions),M(s.streaks)}catch(e){G("Failed to start quiz. Please try again.")}finally{B(!1)}},[j,b,f]);async function K(e){if(v&&!D&&!_){T(e),E(!0);try{let r=await fetch("/api/quiz/answer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:v,questionInstanceId:k[C].id,selectedIndex:e})}),s=await r.json();if(!r.ok){var t;G(null!=(t=s.error)?t:"Failed to submit answer");return}L({isCorrect:s.isCorrect,correctIndex:s.correctIndex,explanation:s.explanation,tip:s.tip}),s.isCorrect?(P(e=>e+1),Q(s.streaks.answer.current)):Q(0),s.streaks&&M(e=>e?{...e,answer:s.streaks.answer}:e)}catch(e){G("Failed to submit answer")}finally{E(!1)}}}async function U(){C+1>=k.length?await X():(A(e=>e+1),L(null),T(null))}async function X(){if(v){try{let e=await fetch("/api/quiz/finish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:v})}),t=await e.json();e.ok&&(R({total:t.summary.total,correct:t.summary.correct,percent:t.summary.percent,streaks:t.streaks}),M(t.streaks))}catch(e){}J(!0)}}if(!v&&!O)return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.A,{title:"Security Quiz",subtitle:"Test your cybersecurity knowledge with real-world scenarios."}),(0,s.jsx)("div",{className:"mx-auto max-w-lg",children:(0,s.jsxs)(n.A,{className:"text-center",children:[(0,s.jsx)("div",{className:"mb-5 flex justify-center",children:(0,s.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-cyan-500/20 to-blue-500/20 text-cyan-400",children:(0,s.jsx)("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})})}),(0,s.jsx)("h2",{className:"mb-1 text-lg font-semibold text-white",children:"Configure Your Quiz"}),(0,s.jsx)("p",{className:"mb-5 text-sm text-gray-500",children:"Questions are generated from real phishing reports and our cybersecurity question bank."}),(0,s.jsxs)("div",{className:"space-y-4 text-left",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mb-1.5 block text-xs font-medium uppercase tracking-wider text-gray-500",children:"Topic"}),(0,s.jsx)("select",{value:b,onChange:e=>g(e.target.value),className:m+" w-full",children:x.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mb-1.5 block text-xs font-medium uppercase tracking-wider text-gray-500",children:"Difficulty"}),(0,s.jsx)("select",{value:f,onChange:e=>y(e.target.value),className:m+" w-full",children:u.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"mb-1.5 block text-xs font-medium uppercase tracking-wider text-gray-500",children:"Questions"}),(0,s.jsx)("div",{className:"flex gap-2",children:h.map(e=>(0,s.jsx)("button",{onClick:()=>w(e),className:"flex-1 rounded-xl border py-2 text-sm font-medium transition ".concat(j===e?"border-cyan-500/30 bg-cyan-500/20 text-cyan-400":"border-white/10 bg-white/5 text-gray-500 hover:text-gray-300"),children:e},e))})]})]}),(0,s.jsx)(o.A,{onClick:V,className:"mt-6 w-full",children:"Start Quiz"}),Y&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(d.A,{type:"error",message:Y,onDismiss:()=>G("")})})]})})]});if(O)return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.A,{title:"Security Quiz",subtitle:"Preparing your questions..."}),(0,s.jsx)(c.A,{})]});if(W){let a=null!=(e=null==H?void 0:H.percent)?e:Math.round(I/k.length*100),i=null!=(t=null==H?void 0:H.correct)?t:I,c=null!=(r=null==H?void 0:H.total)?r:k.length,d=a>=80?"text-emerald-400 border-emerald-500/30":a>=50?"text-yellow-400 border-yellow-500/30":"text-red-400 border-red-500/30";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.A,{title:"Quiz Complete!"}),(0,s.jsx)("div",{className:"mx-auto max-w-md",children:(0,s.jsxs)(n.A,{className:"animate-slide-up text-center",children:[(0,s.jsx)("div",{className:"mx-auto mb-4 flex h-28 w-28 items-center justify-center rounded-full border-2 ".concat(d),children:(0,s.jsxs)("span",{className:"text-4xl font-bold ".concat(d.split(" ")[0]),children:[a,"%"]})}),(0,s.jsxs)("p",{className:"text-gray-400",children:["You got ",(0,s.jsx)("span",{className:"font-semibold text-white",children:i})," out of"," ",(0,s.jsx)("span",{className:"font-semibold text-white",children:c})," correct."]}),z&&(0,s.jsxs)("div",{className:"mt-5 grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"rounded-xl border border-orange-500/10 bg-orange-500/5 px-3 py-3 text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-orange-400",children:z.daily.current}),(0,s.jsx)("p",{className:"mt-0.5 text-[10px] font-medium uppercase tracking-wider text-orange-400/60",children:"Daily Streak"}),(0,s.jsxs)("p",{className:"text-[10px] text-gray-600",children:["Best: ",z.daily.best]})]}),(0,s.jsxs)("div",{className:"rounded-xl border border-purple-500/10 bg-purple-500/5 px-3 py-3 text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-purple-400",children:z.answer.best}),(0,s.jsx)("p",{className:"mt-0.5 text-[10px] font-medium uppercase tracking-wider text-purple-400/60",children:"Best Answer Streak"}),(0,s.jsx)("p",{className:"text-[10px] text-gray-600",children:"Consecutive correct"})]})]}),a<80&&(0,s.jsx)("p",{className:"mt-3 text-sm text-gray-500",children:"Tip: Review phishing indicators and password best practices."}),(0,s.jsx)(o.A,{onClick:()=>{N(null),S([]),J(!1),R(null),G("")},variant:"secondary",className:"mt-5 w-full",children:"Play Again"})]})})]})}let Z=k[C];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.A,{title:"Security Quiz",subtitle:"Question ".concat(C+1," of ").concat(k.length)}),(0,s.jsx)("div",{className:"mb-4 h-1.5 w-full overflow-hidden rounded-full bg-white/5",children:(0,s.jsx)("div",{className:"h-1.5 rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 transition-all duration-500",style:{width:"".concat((C+ +!!_)/k.length*100,"%")}})}),(0,s.jsxs)("div",{className:"mb-4 flex items-center justify-between text-xs text-gray-500",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("span",{children:["Score: ",(0,s.jsxs)("span",{className:"font-medium text-white",children:[I,"/",k.length]})]}),F>1&&(0,s.jsxs)("span",{className:"flex items-center gap-1 text-orange-400",children:[(0,s.jsx)("svg",{className:"h-3.5 w-3.5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M12 2c.4 0 .7.2.9.5l3.4 5.8 6.5 1a1 1 0 01.6 1.7l-4.7 4.6 1.1 6.5a1 1 0 01-1.5 1l-5.8-3-5.8 3a1 1 0 01-1.5-1l1.1-6.5L1.6 11a1 1 0 01.6-1.7l6.5-1L12.1 2.5a1 1 0 01.9-.5z"})}),F," streak"]})]}),"report_generated"===Z.source&&(0,s.jsx)("span",{className:"rounded-full border border-cyan-500/20 bg-cyan-500/10 px-2 py-0.5 text-[10px] font-medium text-cyan-400",children:"From real report"})]}),(0,s.jsx)(i,{question:Z.question,options:Z.options,onAnswer:K,answered:!!_,selectedIndex:q,correctIndex:null!=(p=null==_?void 0:_.correctIndex)?p:-1}),_&&(0,s.jsxs)("div",{className:"mt-4 animate-slide-up space-y-3",children:[(0,s.jsxs)("div",{className:"rounded-xl border px-4 py-3 text-sm ".concat(_.isCorrect?"border-emerald-500/20 bg-emerald-500/5 text-emerald-400":"border-red-500/20 bg-red-500/5 text-red-400"),children:[(0,s.jsx)("span",{className:"font-semibold",children:_.isCorrect?"Correct!":"Incorrect"}),_.explanation&&(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-400",children:_.explanation})]}),_.tip&&(0,s.jsxs)("div",{className:"rounded-xl border border-cyan-500/10 bg-cyan-500/5 px-4 py-2.5 text-sm text-cyan-300",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Tip:"})," ",_.tip]}),(0,s.jsx)(o.A,{variant:"primary",onClick:U,children:C+1>=k.length?"See Results":"Next →"})]}),Y&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(d.A,{type:"error",message:Y,onDismiss:()=>G("")})})]})}},3014:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(5155);function a(e){let{type:t,message:r,onDismiss:a}=e;return(0,s.jsxs)("div",{role:"alert",className:"flex items-center justify-between rounded-xl border px-4 py-3 text-sm animate-slide-up ".concat("success"===t?"border-emerald-500/20 bg-emerald-500/10 text-emerald-400":"border-red-500/20 bg-red-500/10 text-red-400"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["success"===t?(0,s.jsx)("svg",{className:"h-4 w-4 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,s.jsx)("svg",{className:"h-4 w-4 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsx)("span",{children:r})]}),a&&(0,s.jsx)("button",{onClick:a,className:"ml-4 opacity-60 hover:opacity-100 transition-opacity","aria-label":"Dismiss",children:(0,s.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}},4927:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(5155);function a(e){let{title:t,subtitle:r}=e;return(0,s.jsxs)("header",{className:"mb-8 animate-fade-in",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-white sm:text-4xl",children:t}),r&&(0,s.jsx)("p",{className:"mt-2 text-base text-gray-400",children:r})]})}},7101:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(5155);let a={primary:"bg-gradient-to-r from-cyan-500 to-blue-500 text-slate-950 hover:shadow-[0_0_24px_rgba(6,214,160,0.3)] hover:brightness-110 focus:ring-cyan-500/50",danger:"bg-gradient-to-r from-red-500 to-rose-500 text-white hover:shadow-[0_0_24px_rgba(239,68,68,0.3)] hover:brightness-110 focus:ring-red-500/50",secondary:"border border-white/10 bg-white/5 text-gray-300 hover:bg-white/10 hover:text-white focus:ring-white/20",ghost:"text-gray-400 hover:text-white hover:bg-white/5 focus:ring-white/10"};function l(e){let{variant:t="primary",children:r,className:l="",...n}=e;return(0,s.jsx)("button",{className:"".concat("inline-flex items-center justify-center gap-2 rounded-xl px-5 py-2.5 text-sm font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#0a0e1a]"," ").concat(a[t]," ").concat(l),...n,children:r})}},8354:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(5155);function a(e){let{size:t="md"}=e;return(0,s.jsxs)("div",{className:"flex items-center justify-center py-12",role:"status",children:[(0,s.jsx)("div",{className:"".concat("sm"===t?"h-5 w-5":"lg"===t?"h-12 w-12":"h-8 w-8"," animate-spin rounded-full border-2 border-white/10 border-t-cyan-400")}),(0,s.jsx)("span",{className:"sr-only",children:"Loading…"})]})}},8391:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(5155);function a(e){let{children:t,className:r="",hover:a=!1}=e;return(0,s.jsx)("div",{className:"rounded-2xl border border-white/[0.06] bg-white/[0.03] p-6 shadow-lg backdrop-blur-md transition-all duration-300 ".concat(a?"hover:scale-[1.02] hover:border-white/10 hover:bg-white/[0.05] hover:shadow-xl":""," ").concat(r),children:t})}},9765:(e,t,r)=>{Promise.resolve().then(r.bind(r,1528))}},e=>{e.O(0,[441,255,358],()=>e(e.s=9765)),_N_E=e.O()}]);