(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[410],{2287:(e,t,r)=>{Promise.resolve().then(r.bind(r,6603))},3014:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(5155);function a(e){let{type:t,message:r,onDismiss:a}=e;return(0,s.jsxs)("div",{role:"alert",className:"flex items-center justify-between rounded-xl border px-4 py-3 text-sm animate-slide-up ".concat("success"===t?"border-emerald-500/20 bg-emerald-500/10 text-emerald-400":"border-red-500/20 bg-red-500/10 text-red-400"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["success"===t?(0,s.jsx)("svg",{className:"h-4 w-4 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,s.jsx)("svg",{className:"h-4 w-4 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,s.jsx)("span",{children:r})]}),a&&(0,s.jsx)("button",{onClick:a,className:"ml-4 opacity-60 hover:opacity-100 transition-opacity","aria-label":"Dismiss",children:(0,s.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}},4927:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(5155);function a(e){let{title:t,subtitle:r}=e;return(0,s.jsxs)("header",{className:"mb-8 animate-fade-in",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-white sm:text-4xl",children:t}),r&&(0,s.jsx)("p",{className:"mt-2 text-base text-gray-400",children:r})]})}},6603:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(5155),a=r(2115),n=r(4927),l=r(8391),c=r(8354),i=r(3014);let d=["","\uD83E\uDD47","\uD83E\uDD48","\uD83E\uDD49"];function o(){let[e,t]=(0,a.useState)([]),[r,o]=(0,a.useState)(!0),[x,h]=(0,a.useState)(""),m=(0,a.useCallback)(async()=>{o(!0),h("");try{var e,r;let s=await fetch("/api/leaderboard"),a=await s.json();if(!s.ok)return void h(null!=(e=a.error)?e:"Failed to load scoreboard");t(null!=(r=a.leaderboard)?r:[])}catch(e){h("Unable to reach the server.")}finally{o(!1)}},[]);return((0,a.useEffect)(()=>{m()},[m]),r)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.A,{title:"Scoreboard",subtitle:"Loading rankingsâ€¦"}),(0,s.jsx)(c.A,{})]}):x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.A,{title:"Scoreboard"}),(0,s.jsxs)("div",{className:"mx-auto max-w-md",children:[(0,s.jsx)(i.A,{type:"error",message:x,onDismiss:()=>h("")}),(0,s.jsx)("button",{onClick:m,className:"mt-4 w-full rounded-xl border border-white/10 bg-white/5 px-4 py-2 text-sm text-gray-400 hover:bg-white/10 hover:text-white transition",children:"Retry"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.A,{title:"Scoreboard",subtitle:"Top cyber-aware users ranked by streak and contributions."}),(0,s.jsx)("div",{className:"mx-auto max-w-2xl",children:0===e.length?(0,s.jsx)(l.A,{className:"py-12 text-center",children:(0,s.jsx)("p",{className:"text-gray-500",children:"No entries yet. Start a streak to claim the top spot!"})}):(0,s.jsx)(l.A,{children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-white/5 text-[11px] font-medium uppercase tracking-wider text-gray-600",children:[(0,s.jsx)("th",{className:"pb-2 pr-3 w-12",children:"#"}),(0,s.jsx)("th",{className:"pb-2 pr-4",children:"User"}),(0,s.jsx)("th",{className:"pb-2 pr-4 text-center",children:"Streak"}),(0,s.jsx)("th",{className:"pb-2 pr-4 text-center",children:"Best"}),(0,s.jsx)("th",{className:"pb-2 text-center",children:"Reports"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>{let t=e.rank<=3;return(0,s.jsxs)("tr",{className:"border-b border-white/[0.03] last:border-0 ".concat(t?"bg-white/[0.02]":""),children:[(0,s.jsx)("td",{className:"py-3 pr-3 text-center",children:t?(0,s.jsx)("span",{className:"text-lg",children:d[e.rank]}):(0,s.jsx)("span",{className:"text-xs text-gray-600",children:e.rank})}),(0,s.jsx)("td",{className:"py-3 pr-4",children:(0,s.jsx)("span",{className:"font-medium ".concat(t?"text-white":"text-gray-400"),children:e.masked_email})}),(0,s.jsx)("td",{className:"py-3 pr-4 text-center",children:(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 text-orange-400",children:[(0,s.jsx)("svg",{className:"h-3.5 w-3.5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"})}),e.current_streak]})}),(0,s.jsx)("td",{className:"py-3 pr-4 text-center text-xs text-gray-500",children:e.longest_streak}),(0,s.jsx)("td",{className:"py-3 text-center",children:(0,s.jsx)("span",{className:"inline-block rounded-full border border-cyan-500/20 bg-cyan-500/10 px-2 py-0.5 text-[10px] font-semibold text-cyan-400",children:e.total_reports})})]},e.rank)})})]})})})})]})}},8354:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(5155);function a(e){let{size:t="md"}=e;return(0,s.jsxs)("div",{className:"flex items-center justify-center py-12",role:"status",children:[(0,s.jsx)("div",{className:"".concat("sm"===t?"h-5 w-5":"lg"===t?"h-12 w-12":"h-8 w-8"," animate-spin rounded-full border-2 border-white/10 border-t-cyan-400")}),(0,s.jsx)("span",{className:"sr-only",children:"Loadingâ€¦"})]})}},8391:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(5155);function a(e){let{children:t,className:r="",hover:a=!1}=e;return(0,s.jsx)("div",{className:"rounded-2xl border border-white/[0.06] bg-white/[0.03] p-6 shadow-lg backdrop-blur-md transition-all duration-300 ".concat(a?"hover:scale-[1.02] hover:border-white/10 hover:bg-white/[0.05] hover:shadow-xl":""," ").concat(r),children:t})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=2287)),_N_E=e.O()}]);